author "Brice Texier <brice@ekylibre.com>"

name "seriously"
version "0.0.0"
app '> 1.2.0', '< 2.0.0'

add_routes do
  namespace :seriously do
    namespace :v1 do
      resource :game
      resources :turns
      resources :entities
      resources :sales do
        member do
          post :cancel
        end
      end
      resources :purchases
      resources :loans
      resources :product_nature_variants
    end
  end
end

# Install timecop travels
initializer "seriously.time.traveling" do |app|
  ApplicationController.class_eval do

    around_action :back_to_future
    
    def back_to_future
      Seriously::Timescope.freeze do
        yield
      end
    end
    
  end
end

snippet :seriously
